spec_version: 2
description: sleep

inputs:
  agent_name:
    type: agent
    default: eks1
  sleep_secs:
    type: string
    default: '60'

outputs:
  out1:
    value: '{{ "now" | date: "%s" }}'  

grains:
  sleep:
    kind: shell
    spec:
      agent:
        name: '{{.inputs.agent_name}}'
      activities:
        deploy:
          commands:
            - name: sleep_cmd
              command: "sleep {{ .inputs.sleep_secs }}"
              outputs:
                - output1
